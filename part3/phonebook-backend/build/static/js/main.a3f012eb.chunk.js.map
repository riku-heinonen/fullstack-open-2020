{"version":3,"sources":["components/AddPersonForm.js","components/Filter.js","components/Notification.js","components/PeopleList.js","services/person.js","App.js","index.js"],"names":["AddPersonForm","handleSubmit","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","string","handleChange","baseStyle","background","font","borderStyle","borderRadius","padding","margin","errorStyle","color","successStyle","Notification","message","style","Person","person","deletePerson","name","number","onClick","window","confirm","id","PeopleList","people","map","key","baseUrl","axios","get","then","response","data","post","delete","put","App","useState","setPeople","setNewName","searchName","setSearchName","setNewNumber","notification","setNotification","useEffect","personService","setSuccessNotification","setTimeout","setErrorNotification","peopleToShow","filter","toLowerCase","includes","event","target","preventDefault","newPerson","find","catch","error","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a3f012eb.chunk.js","sourcesContent":["import React from 'react'\n\nconst AddPersonForm = ({ handleSubmit, newName, newNumber, handleNameChange, handleNumberChange }) => (\n  <div>\n    <form onSubmit={handleSubmit}>\n      <div>\n        name:\n          <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number:\n          <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n)\n\nexport default AddPersonForm","import React from 'react'\n\nconst Filter = ({ string, handleChange }) => (\n  <div>\n    Filter by name\n    <input\n      value={string}\n      onChange={handleChange}\n    />\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst baseStyle = {\n\tbackground: 'lightgrey',\n\tfont: '20px',\n\tborderStyle: 'solid',\n\tborderRadius: '5px',\n\tpadding: '10px',\n\tmargin: '10px'\n}\n\nconst errorStyle = {\n\tcolor: 'red',\n\t...baseStyle\n}\n\nconst successStyle = {\n\tcolor: 'green',\n\t...baseStyle\n}\n\nconst Notification = ({ message, type }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn <div style={type === 'success' ? successStyle : errorStyle}>{message}</div>\n}\n\nexport default Notification\n","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n  const deleteById = () => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      deletePerson(person.id);\n    }\n  };\n  return (\n    <p>\n      {person.name} {person.number} <button onClick={deleteById}>Delete</button>\n    </p>\n  );\n};\n\nconst PeopleList = ({ people, deletePerson }) => (\n  <div>\n    <div>\n      {people.map((person) => (\n        <Person key={person.name} person={person} deletePerson={deletePerson}></Person>\n      ))}{' '}\n    </div>\n  </div>\n);\n\nexport default PeopleList;\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getPeople = () => {\n  return axios.get(baseUrl).then((response) => response.data)\n}\n\nconst createPerson = (person) => {\n  return axios.post(baseUrl, person).then((response) => response.data)\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data)\n}\n\nconst replacePerson = (id, person) => {\n  return axios.put(`${baseUrl}/${id}`, person).then((response) => response.data)\n}\n\nexport default { getPeople, createPerson, deletePerson, replacePerson }\n","import React, { useEffect, useState } from 'react'\n\nimport AddPersonForm from './components/AddPersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PeopleList from './components/PeopleList'\nimport personService from './services/person'\n\nconst App = () => {\n  const [ people, setPeople ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ notification, setNotification ] = useState({ message: null, type: null })\n\n  useEffect(() => {\n    personService.getPeople().then((response) => setPeople(response))\n  }, [])\n\n  const setSuccessNotification = (message) => {\n    setNotification({ message, type: 'success' })\n    setTimeout(() => {\n      setNotification({ message: null, type: null })\n    }, 3000)\n  }\n\n  const setErrorNotification = (message) => {\n    setNotification({ message, type: 'error' })\n    setTimeout(() => {\n      setNotification({ message: null, type: null })\n    }, 3000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = { name: newName, number: newNumber }\n    if (people.map((person) => person.name).includes(newName)) {\n      const replacePerson = window.confirm(\n        `${newName} is already added to to the phonebook, replace the old number with a new one?`\n      )\n      if (replacePerson) {\n        const id = people.find((person) => person.name === newName).id\n        personService\n          .replacePerson(id, newPerson)\n          .then((response) => {\n            setPeople(people.map((person) => (person.id === id ? response : person)))\n            setSuccessNotification(`Changed number of ${newName}`)\n          })\n          .catch((error) => {\n            setErrorNotification(`${newName} has already been removed from server`)\n            personService.getPeople().then((response) => setPeople(response))\n          })\n      }\n    } else {\n      personService\n        .createPerson(newPerson)\n        .then((response) => {\n          console.log(response)\n          setPeople(people.concat(response))\n          setSuccessNotification(`Added ${newName}`)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch((error) => {\n          setErrorNotification(error.response.data.error)\n        })\n    }\n  }\n\n  const deletePerson = (id) => {\n    const name = people.find((person) => person.id === id).name\n    personService\n      .deletePerson(id)\n      .then((response) => {\n        console.log(response)\n        setPeople(people.filter((person) => person.id !== id))\n        setSuccessNotification(`Deleted ${name}`)\n      })\n      .catch((error) => {\n        setErrorNotification(`${name} has already been removed from server`)\n        personService.getPeople().then((response) => setPeople(response))\n      })\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleSearchNameChange = (event) => setSearchName(event.target.value)\n\n  const peopleToShow = searchName\n    ? people.filter((person) => person.name.toLowerCase().includes(searchName.toLowerCase()))\n    : people\n\n  return (\n    <div>\n      <Notification message={notification.message} type={notification.type} />\n      <h2>Phonebook</h2>\n      <Filter string={searchName} handleChange={handleSearchNameChange} />\n      <h2>Add a new contact</h2>\n      <AddPersonForm\n        handleSubmit={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2> Numbers </h2>\n      <PeopleList people={peopleToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import './index.css';\n\nimport App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}