{"version":3,"sources":["components/AddPersonForm.js","components/Filter.js","components/Notification.js","components/PeopleList.js","services/person.js","App.js","index.js"],"names":["AddPersonForm","handleSubmit","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","string","handleChange","baseStyle","background","font","borderStyle","borderRadius","padding","margin","errorStyle","color","successStyle","Notification","message","style","Person","person","deletePerson","name","number","onClick","window","confirm","id","PeopleList","people","map","key","baseUrl","axios","get","then","response","data","post","delete","put","App","useState","setPeople","setNewName","searchName","setSearchName","setNewNumber","notification","setNotification","useEffect","personService","setSuccessNotification","setTimeout","setErrorNotification","peopleToShow","filter","toLowerCase","includes","event","target","preventDefault","newPerson","find","catch","error","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a3f012eb.chunk.js","sourcesContent":["import React from 'react'\n\nconst AddPersonForm = ({ handleSubmit, newName, newNumber, handleNameChange, handleNumberChange }) => (\n  <div>\n    <form onSubmit={handleSubmit}>\n      <div>\n        name:\n          <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number:\n          <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n)\n\nexport default AddPersonForm","import React from 'react'\n\nconst Filter = ({ string, handleChange }) => (\n  <div>\n    Filter by name\n    <input\n      value={string}\n      onChange={handleChange}\n    />\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst baseStyle = {\n\tbackground: 'lightgrey',\n\tfont: '20px',\n\tborderStyle: 'solid',\n\tborderRadius: '5px',\n\tpadding: '10px',\n\tmargin: '10px'\n}\n\nconst errorStyle = {\n\tcolor: 'red',\n\t...baseStyle\n}\n\nconst successStyle = {\n\tcolor: 'green',\n\t...baseStyle\n}\n\nconst Notification = ({ message, type }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn <div style={type === 'success' ? successStyle : errorStyle}>{message}</div>\n}\n\nexport default Notification\n","import React from 'react';\n\nconst Person = ({ person, deletePerson }) => {\n  const deleteById = () => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      deletePerson(person.id);\n    }\n  };\n  return (\n    <p>\n      {person.name} {person.number} <button onClick={deleteById}>Delete</button>\n    </p>\n  );\n};\n\nconst PeopleList = ({ people, deletePerson }) => (\n  <div>\n    <div>\n      {people.map((person) => (\n        <Person key={person.name} person={person} deletePerson={deletePerson}></Person>\n      ))}{' '}\n    </div>\n  </div>\n);\n\nexport default PeopleList;\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getPeople = () => {\n\treturn axios.get(baseUrl).then((response) => response.data)\n}\n\nconst createPerson = (person) => {\n\treturn axios.post(baseUrl, person).then((response) => response.data)\n}\n\nconst deletePerson = (id) => {\n\treturn axios.delete(`${baseUrl}/${id}`).then((response) => response.data)\n}\n\nconst replacePerson = (id, person) => {\n\treturn axios.put(`${baseUrl}/${id}`, person).then((response) => response.data)\n}\n\nexport default { getPeople, createPerson, deletePerson, replacePerson }\n","import React, { useEffect, useState } from 'react'\n\nimport AddPersonForm from './components/AddPersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PeopleList from './components/PeopleList'\nimport personService from './services/person'\n\nconst App = () => {\n\tconst [ people, setPeople ] = useState([])\n\tconst [ newName, setNewName ] = useState('')\n\tconst [ searchName, setSearchName ] = useState('')\n\tconst [ newNumber, setNewNumber ] = useState('')\n\tconst [ notification, setNotification ] = useState({ message: null, type: null })\n\n\tuseEffect(() => {\n\t\tpersonService.getPeople().then((response) => setPeople(response))\n\t}, [])\n\n\tconst setSuccessNotification = (message) => {\n\t\tsetNotification({ message, type: 'success' })\n\t\tsetTimeout(() => {\n\t\t\tsetNotification({ message: null, type: null })\n\t\t}, 3000)\n\t}\n\n\tconst setErrorNotification = (message) => {\n\t\tsetNotification({ message, type: 'error' })\n\t\tsetTimeout(() => {\n\t\t\tsetNotification({ message: null, type: null })\n\t\t}, 3000)\n\t}\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconst newPerson = { name: newName, number: newNumber }\n\t\tif (people.map((person) => person.name).includes(newName)) {\n\t\t\tconst replacePerson = window.confirm(\n\t\t\t\t`${newName} is already added to to the phonebook, replace the old number with a new one?`\n\t\t\t)\n\t\t\tif (replacePerson) {\n\t\t\t\tconst id = people.find((person) => person.name === newName).id\n\t\t\t\tpersonService\n\t\t\t\t\t.replacePerson(id, newPerson)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tsetPeople(people.map((person) => (person.id === id ? response : person)))\n\t\t\t\t\t\tsetSuccessNotification(`Changed number of ${newName}`)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetErrorNotification(`${newName} has already been removed from server`)\n\t\t\t\t\t\tpersonService.getPeople().then((response) => setPeople(response))\n\t\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tpersonService\n\t\t\t\t.createPerson(newPerson)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconsole.log(response)\n\t\t\t\t\tsetPeople(people.concat(response))\n\t\t\t\t\tsetSuccessNotification(`Added ${newName}`)\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetErrorNotification(error.response.data.error)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst deletePerson = (id) => {\n\t\tconst name = people.find((person) => person.id === id).name\n\t\tpersonService\n\t\t\t.deletePerson(id)\n\t\t\t.then((response) => {\n\t\t\t\tconsole.log(response)\n\t\t\t\tsetPeople(people.filter((person) => person.id !== id))\n\t\t\t\tsetSuccessNotification(`Deleted ${name}`)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetErrorNotification(`${name} has already been removed from server`)\n\t\t\t\tpersonService.getPeople().then((response) => setPeople(response))\n\t\t\t})\n\t}\n\n\tconst handleNameChange = (event) => setNewName(event.target.value)\n\tconst handleNumberChange = (event) => setNewNumber(event.target.value)\n\tconst handleSearchNameChange = (event) => setSearchName(event.target.value)\n\n\tconst peopleToShow = searchName\n\t\t? people.filter((person) => person.name.toLowerCase().includes(searchName.toLowerCase()))\n\t\t: people\n\n\treturn (\n\t\t<div>\n\t\t\t<Notification message={notification.message} type={notification.type} />\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Filter string={searchName} handleChange={handleSearchNameChange} />\n\t\t\t<h2>Add a new contact</h2>\n\t\t\t<AddPersonForm\n\t\t\t\thandleSubmit={addPerson}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h2> Numbers </h2>\n\t\t\t<PeopleList people={peopleToShow} deletePerson={deletePerson} />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import './index.css';\n\nimport App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}